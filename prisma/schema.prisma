generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model user {
  id                Int        @id @default(autoincrement())
  email             String     @unique(map: "User_email_key")
  fullName          String
  userName          String     @unique(map: "User_userName_key")
  otpCode           String
  isActive          Boolean    @default(false)
  profilePictureUrl String?
  bio               String?
  gender            String?
  password          String
  createdAt         DateTime   @default(now())
  updatedAt         DateTime?
  followed          followed[]
  follower          follower[]
  post              post[]
}

model followed {
  id         Int  @id @default(autoincrement())
  userId     Int
  followedId Int
  user       user @relation(fields: [userId], references: [id])

  @@index([userId], map: "Followed_userId_fkey")
}

model follower {
  id         Int  @id @default(autoincrement())
  userId     Int
  followerId Int
  user       user @relation(fields: [userId], references: [id])

  @@index([userId], map: "Follower_userId_fkey")
}

model post {
  id      Int       @id @default(autoincrement())
  userId  Int
  caption String
  content content[]
  user    user      @relation(fields: [userId], references: [id])

  @@index([userId], map: "Post_userId_fkey")
}

model content {
  id     Int    @id @default(autoincrement())
  postId Int
  name   String
  path   String
  post   post   @relation(fields: [postId], references: [id])

  @@index([postId], map: "Content_postId_fkey")
}
